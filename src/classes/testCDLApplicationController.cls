@IsTest(SeeAllData=true)
public class testCDLApplicationController
{
  @isTest
  public static void testCDLApplicationController()
  {
    test.startTest();
    PageReference pageRef = Page.cdlApplication;
    Test.setCurrentPage(pageRef);
    cdlApplicationController cdlAppController = new cdlApplicationController();
    cdlAppController.qmlApplication = false;
    cdlAppController.incompleteApp = false;
    //cdlAppController.DEBUG = true;
    Account account = new Account();
    account.Online_Submission__c = true;
    account.Name = 'Test Account';
    account.RecordTypeId
      = [select Id from RecordType where sObjectType = 'Account' and Name = 'Venture Account' limit 1].Id;
    account.Phone = '(416) 509-6410';
    account.BillingStreet = '139 The WestWay';
    account.BillingCity = 'Etobicoke';
    account.BillingStateCode = 'ON';
    account.BillingPostalCode = 'M9P 2B6';
    account.BillingCountryCode = 'CA';
    account.NumberOfEmployees = 100;
    account.Industry_Multi__c = 'Apps';
    account.Website = 'www.test.com';
    insert account;
    Contact con = new Contact();
    con.AccountId = account.Id;
    con.Online_Submission__c = true;
    con.RecordTypeId
      = [select Id from RecordType where sObjectType = 'Contact' and Name = 'Venture Contact' limit 1].Id;
    con.Salutation = 'Mr.';
    con.FirstName = 'Test';
    con.LastName = 'Tester';
    con.Gender__c = 'Male';
    con.Phone ='(416) 509-6410';
    con.Email = 'test@test.com';
    con.MailingStreet = '139 The WestWay';
    con.MailingCity = 'Etobicoke';
    con.MailingStateCode = 'ON';
    con.MailingPostalCode = 'M9P 2B6';
    con.MailingCountryCode = 'CA';
    con.Preferred_Language__c = 'English';
    con.Skype_ID__c = 'skypeID';
    con.Twitter_ID__c = 'twitterID';
    con.LinkedIn_Profile__c = 'linkedInID';
    con.Facebook_Page__c = 'faceBookID';
    con.Crunchbase_Profile__c = 'crunchBaseID';
    con.Hacker_News_Link__c = 'hackerNewsID';
    con.GitHub_Page__c = 'gitHubID';
    con.Other_Profile_URL__c = 'otherProfileID';
    insert con;
   // Programming_Language__c programmingLanguage = new Programming_Language__c();
    //programmingLanguage.Contact__c = con.Id;
   // programmingLanguage.Language__c = 'Java';
   // programmingLanguage.Proficiency__c = 'Expert';
    //insert programmingLanguage;
    Application__c app = new Application__c();
    app.Online_Application_Submission__c = true;
    app.Venture__c = account.Id;
    app.Application_Stage__c = 'Application In Progress';
    app.Initial_CDL_Site_Preference__c = 'CDL - Toronto (Toronto)';
    app.Tech_Specialization__c = 'Health';
    insert app;
    Application_Contact__c appCon = new Application_Contact__c();
    appCon.Application__c = app.Id;
    appCon.Contact__c = con.Id;
    appCon.Primary_Contact__c = true;
    insert appCon;
    con = new Contact();
    con.AccountId = account.Id;
    con.Online_Submission__c = true;
    con.RecordTypeId
      = [select Id from RecordType where sObjectType = 'Contact' and Name = 'Venture Contact' limit 1].Id;
    con.Salutation = 'Mr.';
    con.FirstName = 'Test';
    con.LastName = 'Tester Founder';
    con.Gender__c = 'Male';
    con.Email = 'testFounder@test.com';
    insert con;
    List<Education__c> eduList = new List<Education__c>();
    Education__c edu = new Education__c();
    edu.Contact__c = con.Id; edu.Degree__c = 'Masters'; edu.Specialization__c = 'Master Degree';
    edu.Graduation_Year__c = '1993'; edu.GPA__c = '4.00';
    edu.Institute__c = 'York University';
    eduList.add(edu); insert eduList;
    appCon = new Application_Contact__c();
    appCon.Application__c = app.Id;
    appCon.Contact__c = con.Id;
    insert appCon;
    pageRef.getParameters().put('applicationId', app.Id);
    cdlAppController.allowColdApplication = true; cdlAppController.incompleteApp = true;
    cdlAppController.verificationCode = app.Verification_CodeRO__c;
    cdlAppController.start(); cdlAppController.init();
    List<SelectOption> appTypes = cdlAppController.getAppTypes();
    cdlAppController.language = 'English';
    List<SelectOption> incompApp = cdlAppController.getIncompApp();
    List<SelectOption> prefLangs = cdlAppController.getPrefLangs();
    List<SelectOption> appSites = cdlAppController.getAppSites();
    List<SelectOption> appStreams = cdlAppController.getAppStreams();
    List<SelectOption> venIndustrys = cdlAppController.getVenIndustry();
    String[] ventureIndustryValues = cdlAppController.ventureIndustryValues;
    List<SelectOption> salTypes = cdlAppController.getSalTypes();
    List<SelectOption> genderTypes = cdlAppController.getGenderTypes();
    List<SelectOption> provStateOptions = cdlAppController.getProvStateOptions();
    List<SelectOption> countryOptions = cdlAppController.getCountryOptions();
    List<SelectOption> degreeTypes = cdlAppController.getDegreeTypes();
    List<SelectOption> numOfDegrees = cdlAppController.getNumOfDegrees();
    List<SelectOption> stageOfVenture= cdlAppController.getStageOfVen();
    List<SelectOption> numOfFounders = cdlAppController.getNumOfFounders();
    List<SelectOption> citizenships = cdlAppController.getCitizenships();
    List<SelectOption> raisedAnyCapitalOptions = cdlAppController.getRaisedAnyCapitalOptions();
    List<SelectOption> hoursSpentOnVentureOptions = cdlAppController.getHoursSpentOnVentureOptions();
    List<SelectOption> hoursExpectedOnVentureOptions = cdlAppController.getHoursExpectedOnVentureOptions();
    List<SelectOption> willingToRelocateOptions = cdlAppController.getWillingToRelocateOptions();
    List<SelectOption> personalityTypeOptions = cdlAppController.getPersonalityTypeOptions();
    List<SelectOption> numOfProgLangs = cdlAppController.getNumOfProgLangs();
    List<SelectOption> techSpecial = cdlAppController.getTechSpecial;
    List<SelectOption> howDidYouHearAboutProgram = cdlAppController.getHowDidYouHearAboutProgram;
    //List<SelectOption> progLangs = cdlAppController.getProgLangs();
    //List<SelectOption> proficencies = cdlAppController.getProficencies();
    cdlAppController.init(); pageRef = cdlAppController.contactPage();
    cdlAppController.salutation = 'Mr.'; cdlAppController.gender = 'Male';
    cdlAppController.firstName = 'Steve'; cdlAppController.lastName = 'Perrotta';
    cdlAppController.phone = '(416) 509-6410'; cdlAppController.email = 'steve@majente.com';
    cdlAppController.street = '139 The WestWay'; cdlAppController.city = 'Etobicoke';
    cdlAppController.provState = 'Ontario'; cdlAppController.postalCode = 'M9P 2B6';
    cdlAppController.country = 'Canada';
    cdlAppController.skypeID = 'skypeID';
    cdlAppController.twitterID = 'twitterID';
    cdlAppController.linkedInID = 'linkedInID';
    cdlAppController.faceBookID = 'faceBookID';
    cdlAppController.crunchBaseID = 'crunchBaseID';
    cdlAppController.hackerNewsID = 'hackerNewsID';
    cdlAppController.gitHubID = 'gitHubID';
    cdlAppController.otherProfileID = 'otherProfileID';
    pageRef = cdlAppController.saveContact();
    List<cdlApplicationController.education> contactEducationList = new List<cdlApplicationController.education>();
    cdlApplicationController.education education = new cdlApplicationController.education();
    education.degree = 'Masters'; education.specialization = 'Technology';
    education.yearOfGraduation = '1993'; education.gpa = '4.00';
    education.institute = 'Humber College';
    contactEducationList.add(education); cdlAppController.contactEducationList = contactEducationList;
    //cdlAppController.saveEducation();
    pageRef = cdlAppController.venturePage();
    cdlAppController.ventureName = 'Spectrum Distribution Inc.';
    cdlAppController.ventureIndustry = 'Technology';
    cdlAppController.ventureWebSite = 'www.spectrumdistribution.com';
    cdlAppController.ventureAngelListProfile = 'testProfile';
    cdlAppController.numberOfFounders = 1;
    List<cdlApplicationController.founderContact> founderList = new List<cdlApplicationController.founderContact>();
    cdlApplicationController.founderContact founderContact = new cdlApplicationController.founderContact();
    founderContact.firstName = 'Lucas'; founderContact.lastName = 'Perrotta';
    founderContact.email = 'lperrotta@rogers.com'; founderContact.gender = 'Male';
    education = new cdlApplicationController.education();
    education.degree = 'Masters'; education.specialization = 'Technology';
    education.yearOfGraduation = '1993'; education.gpa = '4.00';
    education.institute = 'Humber College';
    List<cdlApplicationController.education> founderEducations
      = new List<cdlApplicationController.education>();
    founderEducations.add(education); founderContact.founderEducations = founderEducations;
    founderList.add(founderContact); cdlAppController.founderList = founderList;
    cdlAppController.founderInformation = 'founderInfo()';
    pageRef =  cdlAppController.saveVenture();
    cdlAppController.applicationSite = 'No preference';
    cdlAppController.techSpecialization = 'Energy;Health';
    String[] techSpecs = cdlAppController.techSpecializationValues;
    pageRef = cdlAppController.saveContactDetails();
    cdlAppController.responseList = new List<Response__c>();
    cdlAppController.getResponses();
    pageRef = cdlAppController.saveResponses();
    cdlAppController.citizenship = 'Canadian';
    cdlAppController.raisedAnyCapital = 'Yes';
    cdlAppController.amountRaisedAndInvestors = 'test';
    cdlAppController.keyAwardsAndAchievements = 'test2';
    cdlAppController.entrepreneurialExperience = 'testEExperience';
    cdlAppController.softwareDevelopmentExperience = 10;
    cdlAppController.hoursSpentOnVenture = 'Less than 10 hours';
    cdlAppController.hoursExpectedOnVenture = '10 hours - 25 hours';
    cdlAppController.willingToRelocate = 'Yes';
    cdlAppController.personalityType = 'Adventurer (ISFP)';
    cdlAppController.numberOfProgLangs = 1;
    //List<cdlApplicationController.programmingLanguage> progLangList
    //  = new List<cdlApplicationController.programmingLanguage>();
    //cdlApplicationController.programmingLanguage progLang = new cdlApplicationController.programmingLanguage();
    //progLang.language = 'Java'; progLang.proficency = 'Expert';
    //progLangList.add(progLang); cdlAppController.progLangList = progLangList;
    cdlAppController.saveQMLDetails();
    cdlAppController.howDidYouHearAboutProgram = 'Referral';
    cdlAppController.referralName = 'testReferralName';
    cdlAppController.acknowledgement = true;
    String debugInfo = cdlAppController.debugInfo();
    pageRef = cdlAppController.initPage();
    pageRef = cdlAppController.contactDetails();
    pageRef = cdlAppController.cdlSites();
    pageRef = cdlAppController.applicationQuestions();
    pageRef = cdlAppController.applicationQuestionsQML();
    pageRef = cdlAppController.saveApplication();
    pageRef = cdlAppController.previousPage();
    pageRef = cdlAppController.sendVCEmail();
    cdlAppController.preferredSites = 'CDL - Toronto';
    pageRef = cdlAppController.saveSites();
    pageRef = cdlAppController.resetSites();
    Id templateId
      = [select Id from EmailTemplate where Name = 'CDL Completed Application Email'].Id;
    Boolean sendMailSuccess
      = cdlAppController.sendEmail(cdlAppController.email, templateId, con.Id, app.Id);
    System.debug('sendMailSuccess: ' + sendMailSuccess);
    test.stopTest();
  }
}